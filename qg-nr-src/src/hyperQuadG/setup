##########################################################################
#
# $Id: setup,v 1.9 2011-09-15 18:40:22 carlos Exp $
#
# History:
#     Thu Nov 14 09:53:54 CST 2002 by David Neilsen, for the hyper code
#     Tue Feb 10 11:36:24 CST 2004 by David Neilsen, Modified for had code
#
# This the setup file for hyperCurvedWave.  The name of this file is
# not important.  It is processed as standard input for the hypersetup
# script.  hypersetup is found in $HAD/sbin
#
# A hashmark "#" is a comment
# character.  The hashmark may appear anywhere on a line, and everything
# to the right of the hash is ignored.  
#
# The basic format of this file is a series of KEYWORDS followed by a
# function list in braces ( {.} ):
#
#     keyword
#     {
#        word list
#     }
#
# The word list is delimited by commas, and may extend over several
# lines.  The opening brace "{" and closing brace "}" must be the first
# characters on a line not containing the word list.   The keywords may
# appear in any order.
#
# The function keywords are:
#
#     ufuncs - the evolved functions
#
#     vfuncs - the equation functions.  Functions required for the equations,
#              in particular functions that are differentiated, but not
#              evolved.  In GR, these could include the gauge functions.
#
#     wfuncs -"everything else".  In particular functions not used to 
#              evaluate the equations.  These may include analysis functions,
#              such as the constraints or "wave" functions.
#              hyperparams adds some specific variables to this list, such
#              as the Cactus 3D coordinate arrays and the mask, if the 
#              "Use mask" keyword is given (see below).
#
#     dufuncs- A list of u functions to be differentiated.  If this keyword
#              is missing, then the default is to include all spatial
#              derivatives (dx, dy, dz) of all u functions. 
#
#     dvfuncs- Same as dufuncs, but for the v functions.
#
#     par    - All parameters needed for the equation thorn.  hyperparams
#              adds several cactus parameters to this list, so they don't
#              need to be included explicitly.
#   
# Additional keywords that do not take parameters or a word list:
#
#     "Point-wise Derivatives" - evaluate derivatives point-wise, without
#              storage in a 3d array.
#
#     "Use Mask" - Include the mask.
#
# The capitalization of keywords is important, but spacing is not.  (perl
# first strips out all white space.)  So, "Point-wise Derivatives" may be
# given as "Point-wiseDerivatives" or "Point -  wise     Derivatives".
# However, "point-wisederivatives" would not be recognized.
#
# hyperparams reads this file to construct the params.F90 file and the 
# util.F90 file.  params.F90 defines all integer constants used to 
# access elements of the u/v/w/par arrays.  util.F90 defines these
# arrays by setting pointers and loading the parameter array.
#
##########################################################################

#
# Define the u functions.  These are the evolved variables.  They exist
# at two time levels.  In this example I declare four variables: a, b, c and d.
#
ufuncs [G]
{
gt11,gt12,gt13,gt22,gt23,gt33,
A11,A12,A13,A22,A23,A33,
chi, trK,
Gam1,Gam2,Gam3,
alpha,shift1,shift2,shift3,
gb1, gb2, gb3,
Ex, Ey, Ez, 
Bx, By, Bz, 
Phi_em, Psi_em
phiR,phiI,piR,piI
}


#
# dufuncs.  I think we need all of these, which is the default behavior
# if dufuncs is not found in the file.  So don't include it.
#
dufuncs
{
}

#
# These are the v functions.  These are typically functions required
# to calculate the equations, and may be differentiated, but they are
# not evolved.  For demonstration purposes we declare four variables:
# var1, var2, var3 and var4.
#
# "u" is the correction to BBH puncture initial data which solves
# the Hamiltonian constraint via an elliptic solve.
#
vfuncs [G]
{
g11, g12, g13, g22, g23, g33,
sdetg,
rad_exp, psi4R, psi4I,
massADM,massBONDI,curvature,
phi2R, phi2I, phi0R, phi0I,
vbr_omega, vbth_omega,
charge,J1,J2,J3,poyntingx_dens,poyntingy_dens,poyntingz_dens,
uell(EL)
}


#
# dvfuncs.  Let's pretend that we only need to calculate some specific
# derivatives.  If we list them explicitly, then the code will only
# calculate (and allocate storage if necessary) for the derivatives we need.
#
dvfuncs
{
}

#
# The w functions.  The AMR code needs "flag," "error" and "chr."  We include
# them here.  The variable "con" represents a generic constraint variable.
#
wfuncs
{
  ham, momx, momy, momz, div_B, div_E, tr_A, detgt_m1,
  gamtx_con, gamty_con, gamtz_con, calgamtx_con, calgamty_con, calgamtz_con
}

asurface
{
rap4,iap4, rap2, iap2, rap0, iap0
}

bsurface
{
rbp4,ibp4, rbp2, ibp2, rbp0, ibp0
}

csurface
{
rcp4,icp4, rcp2, icp2, rcp0, icp0
}

#
# These are the parameters
#
par
{

#---------------------- hyperCurvedWave variables -------------------------

###############################################################################
#
# Name             : type       :  size  :  min      :   max   :   default  :
#
###############################################################################
#formalism and initial data################################################

gauge_type           : int        : 1      : 0         : 5      : 1
idtype               : int        : 1      :-100       : 200    : 0
evolve_geometry      : int        : 1      : 0         : 1      : 1
evolve_em_field      : int        : 1      : 0         : 1      : 1
evolve_scalar_field  : int        : 1      : 0         : 1      : 1
temperature_type     : int        : 1      :     0     : *      : 0

########### PARAMETERS FOR TYPE0 INITIAL DATA : reading from file #####
read_file_alp        : int        : 1      : 0         : 1      : 0
read_file_b          : int        : 1      : 0         : 1      : 0
read_file_g          : int        : 1      : 0         : 1      : 0
read_file_k          : int        : 1      : 0         : 1      : 0
read_file_psi        : int        : 1      : 0         : 1      : 0
read_file_phir       : int        : 1      : 0         : 1      : 0
read_file_phic       : int        : 1      : 0         : 1      : 0
read_file_phim       : int        : 1      : 0         : 1      : 0
read_data_level      : int        : 1      : 1         : *      : 1
id_d_diff_order      : int        : 1      : 2         : 4      : 2

########### PARAMETERS FOR TYPE1 INITIAL DATA : randon noise ##########
mr_amp               : double     : 1      : *         : *      : 0.0
mr_shift             : double     : 1      : *         : *      : 0.0

########### EM PARAMETERS ##########################################
bamp                 : double     : 1      : *         : *      : 0.0
e1_amp               : double     : 1      : *         : *      : 0.0
e2_amp               : double     : 1      : *         : *      : 0.0
initial_b            : int        : 1      : 0         : 100    : 1

########### SF PARAMETERS ##########################################
sf_amp               : double     : 1      : *         : *      : 0.0
initial_sf           : int        : 1      : 0         : 100    : 1
sf_amp_axn           : double     : 1      : *         : *      : 0.0

dil_mass             : double     : 1      : *         : *      : 0.0
dil_alpha            : double     : 1      : *         : *      : 1.0
dil_infty            : double     : 1      : *         : *      : 0.0
emd_bh_type          : int        : 1      : 0         : 1      : 1
axn_mass             : double     : 1      : *         : *      : 0.0
axn_alpha            : double     : 1      : *         : *      : 0.0
axn_infty            : double     : 1      : *         : *      : 0.0
sen_alpha            : double     : 1      : *         : *      : 0.0
a_ang_par            : double     : 1      : *         : *      : 0.0
q_elec	             : double     : 1      : *         : *      : 0.0
p_mag	             : double     : 1      : *         : *      : 0.0

bs_1_x0              : double     : 1      : *         : *      : 0.0
bs_1_y0              : double     : 1      : *         : *      : 0.0
bs_1_z0              : double     : 1      : *         : *      : 0.0
bs_1_vx              : double     : 1      : *         : *      : 0.0
bs_1_vy              : double     : 1      : *         : *      : 0.0
bs_1_vz              : double     : 1      : *         : *      : 0.0
bs_1_omega           : double     : 1      : *         : *      : 0.0

bs_2_x0              : double     : 1      : *         : *      : 0.0
bs_2_y0              : double     : 1      : *         : *      : 0.0
bs_2_z0              : double     : 1      : *         : *      : 0.0
bs_2_vx              : double     : 1      : *         : *      : 0.0
bs_2_vy              : double     : 1      : *         : *      : 0.0
bs_2_vz              : double     : 1      : *         : *      : 0.0
bs_2_omega           : double     : 1      : *         : *      : 0.0

########### BLACK HOLE PARAMETERS ##################################
bh_n                 : int        : 1      : 0         : 100    : 1
bh_type              : int        : 1      : 0         : 100    : 1
bh_1_mass            : double     : 1      : 0.        : *      : 1.0
bh_2_mass            : double     : 1      : 0.        : *      : 0.0
bh_3_mass            : double     : 1      : 0.        : *      : 0.0
bh_4_mass            : double     : 1      : 0.        : *      : 0.0
bh_1_x               : double     : 1      : *         : *      : 0.0
bh_1_y               : double     : 1      : *         : *      : 0.0
bh_1_z               : double     : 1      : *         : *      : 0.0
bh_2_x               : double     : 1      : *         : *      : 0.0
bh_2_y               : double     : 1      : *         : *      : 0.0
bh_2_z               : double     : 1      : *         : *      : 0.0
bh_3_x               : double     : 1      : *         : *      : 0.0
bh_3_y               : double     : 1      : *         : *      : 0.0
bh_3_z               : double     : 1      : *         : *      : 0.0
bh_4_x               : double     : 1      : *         : *      : 0.0
bh_4_y               : double     : 1      : *         : *      : 0.0
bh_4_z               : double     : 1      : *         : *      : 0.0
bh_1_px              : double     : 1      : *         : *      : 0.0
bh_1_py              : double     : 1      : *         : *      : 0.0
bh_1_pz              : double     : 1      : *         : *      : 0.0
bh_2_px              : double     : 1      : *         : *      : 0.0
bh_2_py              : double     : 1      : *         : *      : 0.0
bh_2_pz              : double     : 1      : *         : *      : 0.0
bh_3_px              : double     : 1      : *         : *      : 0.0
bh_3_py              : double     : 1      : *         : *      : 0.0
bh_3_pz              : double     : 1      : *         : *      : 0.0
bh_4_px              : double     : 1      : *         : *      : 0.0
bh_4_py              : double     : 1      : *         : *      : 0.0
bh_4_pz              : double     : 1      : *         : *      : 0.0
bh_1_spin            : double     : 1      : *         : *      : 0.0
bh_1_sth             : double     : 1      : *         : *      : 0.0
bh_1_sphi            : double     : 1      : *         : *      : 0.0
bh_2_spin            : double     : 1      : *         : *      : 0.0
bh_2_sth             : double     : 1      : *         : *      : 0.0
bh_2_sphi            : double     : 1      : *         : *      : 0.0
bh_3_spin            : double     : 1      : *         : *      : 0.0
bh_3_sth             : double     : 1      : *         : *      : 0.0
bh_3_sphi            : double     : 1      : *         : *      : 0.0
bh_4_spin            : double     : 1      : *         : *      : 0.0
bh_4_sth             : double     : 1      : *         : *      : 0.0
bh_4_sphi            : double     : 1      : *         : *      : 0.0

#parametros que no se de donde vienen o a donde van ######################
outer_boundary       : double     : 1      : 0.1       : *      : 100.0
gr_bound_cond        : double     : 1      : 0.1       : *      : 100.0
fluid_bound_cond     : double     : 1      : 0.1       : *      : 100.0

# parameters used with gauge equations/choices  
bssn_lambda_1        : int        : 1      : *         : *      : 1
bssn_lambda_2        : int        : 1      : *         : *      : 0
bssn_lambda_3        : int        : 1      : *         : *      : 0
bssn_lambda_4        : int        : 1      : *         : *      : 0
bssn_lambda_f0       : double     : 1      : *         : *      : 1.0
bssn_lambda_f1       : double     : 1      : *         : *      : 0.0
bssn_lambda_f2       : double     : 1      : *         : *      : 1.0
bssn_lambda_f3       : double     : 1      : *         : *      : 0.0

bssn_eta_damping     : double     : 1      : *         : *      : 0.0
bssn_R_0             : double     : 1      : 1.e-4     : *      : 10.0
bssn_eta_damping_exp : double     : 1      : *         : *      : 2.0
bssn_eta             : double     : 1      : *         : *      : 1.0
bssn_trk0            : double     : 1      : *         : *      : 0.0

bssn_kappa1          : double     : 1      : *         : *      : 0.0
bssn_kappa2          : double     : 1      : *         : *      : 0.0

bssn_chi_floor       : double     : 1      : *         : *      : 0.0001

bssn_adv_derivs      : int        : 1      : 0         : 1      : 1


#######################################################################
geometry_type        : int        : 1      :  0        : 50     : 0
gr_idtype            : int        : 1      : -17       : 102    : 1
mhd_idtype           : int        : 1      :  1        : 30     : 1

## Fluid method parameters

detgwarn           :   int      :    1   :     0     :    1    :    1
#ohmlaw_type        :   int      :    1   :     0     :    1    :    1
force_free         :   int      :    1   :     0     :    1    :    1

## Jan's parameters:
q1                 :   double   :   1    :     0     :    1    :    0.141
vinj               :   double   :   1    :     0     :    1    :    0.000001
Kappajan           :   double   :   1    :     0     :  100000 :    1000.0
djump              :   double   :   1    :     0     :  100000 :    100.0
rpeak              :   double   :   1    :     0     :   1000  :    13.0
rout               :   double   :   1    :     0     :   1000  :    50.0
stab               :   double   :   1    :     0     :    1    :    1.0
rho_real            :   double   :   1    :     0     :   1.e8  :    1000.0
magcase            :   double   :   1    :     0     :   10     :   0.01
kappa_max          :   double   :   1    :     0     :  1.e9   :    0.0

# analysis option
calcDivB             :   int      :    1   :     0     :    1    :    0
constraints_analysis :   int      :    1   :     0     :    1    :    0
#psi4_analysis        :   int      :    1   :     0     :    1    :    0

# enables us to scale G and B
G_scale_factor     :  double     : 1      : *      : *      : 1.0
B_scale_factor     :  double     : 1      : *      : *      : 1.0
anti_aligned       :  int        : 1      : 0      : 1      : 0

# Freeze B-field in vacuum regions:
# bfield_vacuumfreeze = 0   --do not freeze, leave fluxes alone [default]
#                     = 1   --taper B-field fluxes to zero in vacuum regions
# bfield_taperrange   = 100.--range of density as a multiple of vacuum to taper
#
bfield_vacuumfreeze:   int      :     1  :     0     :    1    :    0
bfield_taperrange  :   double   :     1  :     1.0   :    *    :  100.0

## divergence cleaning
# project_div_B = 0   - no divergence cleaning
#               = 1   - projection using elliptic equation
#               = 2   - hyperbolic divergence cleaning
project_div_B      :   int      :     1  :     0     :    3    :    1
psi_ch             :   double   :     1  :     *     :    *    :    1.0
psi_cr             :   double   :     1  :     *     :    *    :    1.0

# whether to damp the fluid evolution inside a horizon : default off
damp               :   int      :     1  :     0     :    1    :    0

## Bondi flow parameters
id_bondi_sonic_r   :   double   :     1  : * : *      :     400.0
id_bondi_rhoc      :   double   :     1  : * : *      :     0.01
id_bondi_rstart    :   double   :     1  : * : *      :     5.0
id_bondi_fixedIBC  :   int      :     1  : 0 :   2    :    0


# TOV BH parameters
id_tov_depletion   :   double   :    1  : 0.0 :   2.0 :    1.0

id_tovbh_vx        :   double   :     1  : * : *      :     0.0
id_tovbh_vy        :   double   :     1  : * : *      :     0.0
id_tovbh_vz        :   double   :     1  : * : *      :     0.0

id_tov_average     :   int      :     1  : * : *      :     0
id_tov_p_pres      :   double   :     1  : * : *      :     0.0
id_tov_p_r         :   double   :     1  : * : *      :     4.0
id_tov_p_sigma     :   double   :     1  : * : *      :     1.0

id_tov_magnetic    :   int      :     1  : 0 : 1      :    1
id_tov_Asize       :   double   :     1  : * : *      :    0.0
id_drns_r_e        :   double   :     1  : * : *      :    -9999.0

# parameters for boosted drns data
id_center_x1       :   double   :     1  : * : *      :    0.0
id_center_y1       :   double   :     1  : * : *      :    0.0
id_center_x2       :   double   :     1  : * : *      :    0.0
id_center_y2       :   double   :     1  : * : *      :    0.0
id_vx1             :   double   :     1  : * : *      :    0.0
id_vy1             :   double   :     1  : * : *      :    0.0
id_vx2             :   double   :     1  : * : *      :    0.0
id_vy2             :   double   :     1  : * : *      :    0.0

# perturbations of initial data

id_perturb_m        :   int      :     1  : * : *      :     1
id_perturb_p        :   double   :     1  : * : *      :     0.0
id_perturb_rho      :   double   :     1  : * : *      :     0.0

# Disk initial data parameters
id_disk_width      :   double   :     1  : 0.0 : 1.0     :   0.25
id_disk_rin        :   double   :     1  :  *  :  *      :   6.0
id_disk_rout       :   double   :     1  :  *  :  *      :  10.0
id_disk_B          :   double   :     1  :  *  :  *      :   0.0
id_disk_type       :   int      :     1  :  1  :  5      :   1
id_disk_angmom     :   double   :     1  :  *  :  *      :   0.0
id_disk_potential  :   double   :     1  :  *  :  *      :   -0.05
id_disk_atmosphere :   double   :     1  : 0.0 :  *      :   1.0e-10
id_disk_kappa      :   double   :     1  : 0.0 :  *      :   1.0
id_disk_Asize      :   double   :     1  :  *  :  *      :   0.0
id_disk_rhocut     :   double   :     1  : 0.0 :  *      :   0.0
id_disk_magnetic   :   int      :     1  :  0  :  10     :   0
id_disk_rho0       :   double   :     1  : 0.0 :  *      :   0.0
id_disk_decay      :   double   :     1  : 1.0e-10 : *   :   1.0
id_disk_kickvel    :   double   :     1  : 0.0 :  *      :   0.0
id_disk_kicktheta  :   double   :     1  : 0.0 :  1.0    :   0.0
id_disk_kickphi    :   double   :     1  : 0.0 :  2.0    :   0.0
id_disk_GammaB     :   double   :     1  : 1.01 : *      :   2.0
id_disk_cB         :   double   :     1  :  *  :  *      :   0.0
id_disk_lbound     :   double   :     1  : 0.0 :  *      :   0.0
id_disk_bhmass     :   double   :     1  :-1.0 :  *      :   -1.0

}

#
# The following three lines are commands that affect the set-up of the 
# code for compilation.  Uncomment them to enable these functions:
#  Use Mask -> A mask will be used on the grid to flag points 
#              for an inner boundary.
#
#  Point-wise Derivatives ->  For systems with many variables, array storage
#              for all derivatives may not be possible.  Here derivatives
#              are calculated point-wise when needed, and values are not
#              stored for later use.  Warning: this feature is very slow.
#
# Enable Alternative Coordinates -> Allows the physical coordinates to be
#              different from the computational coordinates.  The actual
#              coordinate transformation and Jacobian must be coded into
#              the hyper part of the code.

Need C Files
DefaultInterpQuintic
