8/10/07

    I've spent the last couple weeks concentrating on the multigrid
solver, in particular to solve the maximal slicing equation for
vacuum collapse
        D^i D_i alpha / alpha = K^{ij} K_{ij}
Remarkably, when I was using the flat space version of the LHS
with the fully covariant right side, things worked fine. Introducing
non-flat metric components (and their derivatives) to the left
side made the problem more complicated computationally and, apparently,
much more sensitive to issues.

The end result is that I have a solver which hopefully will suffice
for studying Brill collapse. However, there are a number of issues
remaining, both fundamentally and computationally:

    ---there remains some discrepancy between domain
       decomposed runs and non-decomposed (clusterDD=3).
       This doesn't appear to affect the results or
       robustness, but never the less need to be addressed.
    ---the vtracing encoded in the solver is not great...
       some things apparent on DV don't seem to represent
       bugs in the solver...this needs to be improved.
    ---In the worst cases, nonsmoothness develops on the
       the finest level which quickly crashes (literally)
       the code. By constantly monitoring for any 
       nonconvergence, this situation can be averted but
       at the cost of settling for whatever level of
       residual exists at the moment.
    ---More fundamentally, it's not completely clear
       how to evaluate the performanace of the solver.
       Generally w/ multigrid, one looks at the residual
       on the finest level converging to zero. However,
       for these runs, the finest level covers only
       a very small amount of the computational domain.
       Should one instead be looking at the residual
       defined over every grid location at the finest
       level that exists there?
    ---Related to this, to what extent is the 
       residual on any given fine level limited by the
       fact that it only covers a subsection of the domain?
       In particular, a fine level sees its boundaries
       fixed to its parent. Does this limit how
       well it can decrease its residual?
    ---Finally, computationally it's not clear if I'm
       treating the AMR boundaries in the best way.
       Also, it's not clear that I'm being consistent
       in terms of treating the AMR boundary as 
       a single grid point wide for some operations
       (those specific to the multigrid) whereas
       for those operations using the routines of
       the time evolution probably continue to see
       those boundaries as "ghostwidth" points wide.
